from casadi import *
from casadi.tools import *
from numpy import array
import matplotlib.pyplot as plt
import matplotlib.dates as mdates
import datetime

c = array([24.        , 21.78000003, 21.58028133, 21.52448713, 21.43332014,
       21.28435446, 20.99313543, 20.60652969, 20.30855479, 20.03460336,
       19.76845013, 19.50600858, 19.24623784, 21.74213367, 21.71811699,
       21.67887405, 21.61475159, 21.50997633, 21.33877477, 20.85346351,
       21.04388796, 20.55823405, 20.23262147, 19.94897337, 19.67764926,
       21.85964197, 21.85486397, 21.84705678, 21.83429992, 21.8134554 ,
       21.77939571, 21.64739751, 21.81304063, 21.77667319, 21.71724927,
       21.62015129, 21.16889093, 21.89302676, 21.89953251, 21.91016282,
       21.9275326 , 21.95591459, 22.0022904 , 22.21497306, 21.8786835 ,
       21.8797626 , 21.88152586, 21.88440699, 21.88911472, 21.89680709,
       21.90937632, 21.92991429, 21.96347305, 22.01830764, 22.10790663,
       22.51751593, 21.87215968, 21.87615209, 21.88267591, 21.89333574,
       21.91075377, 21.93921461, 21.98571924, 22.0617072 , 22.18587053,
       22.38875179, 22.72025713, 23.94296746, 22.86849427, 22.40372359,
       22.09365693, 21.841878  , 21.8618696 , 21.89453637, 21.94791347,
       22.03513094, 22.17764316, 22.41050626, 22.79100152, 24.18175345,
       22.99265063, 22.48056727, 22.14024205, 21.84489306, 21.91672888,
       21.7973142 , 21.83164259, 21.88773474, 21.97938858, 22.12914975,
       22.37385755, 23.32187195, 22.36722549, 21.9269314 , 21.72390122,
       21.73492593, 21.79337407, 21.68691979, 21.6755818 , 21.65705568,
       21.62678424, 21.57732111, 21.49649897, 21.13450758, 21.69146222,
       21.67684577, 21.65296267, 21.61393799, 21.4526832 , 21.67613021,
       21.64918236, 21.60514991, 21.53320148, 21.41563866, 21.12022129,
       20.75212518, 21.74032164, 21.74055062, 21.74092477, 21.74153613,
       21.74253507, 21.74416733, 21.74683443, 21.75119242, 21.75831333,
       21.76994881, 21.78896102, 21.87642215, 21.73765017, 21.73769594,
       21.73777073, 21.73789292, 21.7380926 , 21.73841886, 21.73895196,
       21.73982305, 21.7412464 , 21.74357212, 21.74737233, 21.76378014,
       21.73965204, 21.74124011, 21.74383501, 21.74807503, 21.75500316,
       21.76632365, 21.78482117, 21.81504588, 21.86443267, 21.94513003,
       22.07698846, 22.64208924, 21.88595564, 21.72241165, 21.72422611,
       21.72719093, 21.7320354 , 21.73995122, 21.75288556, 21.7740201 ,
       21.80855366, 21.86498104, 21.95718266, 22.38040983, 21.71052796,
       21.7121079 , 21.71469036, 21.71891006, 21.72580501, 21.73707126,
       21.75548017, 21.78556009, 21.83471028, 21.91502105, 22.0462478 ,
       22.60824227, 21.85822779, 21.6921709 , 21.69323694, 21.69497885,
       21.69782512, 21.70247588, 21.71007516, 21.7224923 , 21.74278173,
       21.7759344 , 21.83010542, 22.08278857, 21.6756858 , 21.67069749,
       21.66254671, 21.64922844, 21.62746659, 21.59190788, 21.53380552,
       21.43886702, 21.28373868, 20.92160226, 20.61490656, 20.34673632,
       21.95493928, 22.10065118, 22.3387425 , 22.72778062, 24.15713194,
       22.91056207, 22.39339365, 22.06104254, 21.77686156, 21.50921521,
       21.24746289, 20.98891945, 22.06106295, 22.3064606 , 22.70743715,
       23.36262759, 25.629526  , 24.00893019, 23.39410535, 23.03347025,
       22.73844381, 22.46369449, 22.19581711, 21.93143258, 21.70630307,
       21.82351672, 22.01504264, 22.32799351, 23.48257787, 22.47306091,
       22.02241383, 21.71373664, 21.44241748, 21.16487875, 20.88764186,
       20.61232644, 21.27990024, 21.15186108, 20.90957653, 20.4604735 ,
       20.14526672, 21.44513342, 21.40067319, 21.32802575, 21.20932077,
       21.01530284, 20.5578571 , 20.24775459, 20.34153334, 19.94671587,
       19.65642141, 19.39405101, 19.1403716 , 21.51162682, 21.4366838 ,
       21.31422786, 21.11413644, 20.67704684, 20.30226951, 20.02125025,
       19.76541646, 19.51754915, 19.27331358, 19.03160768, 18.79214058,
       21.70809727, 21.65886822, 21.57842858, 21.44699126, 21.23131679,
       20.73788805, 20.43245323, 20.17580165, 19.93298982, 19.69523651,
       19.46032449, 19.22768349, 21.79595257, 21.72010418, 21.59616891,
       21.39366025, 20.92025179, 20.56750347, 20.29618949, 21.55644679,
       21.26289186, 20.69133365, 20.36478565])

def get_5m_time(length):
    start_time = datetime.datetime(2021, 11, 29, 0, 0, 0)#, tzinfo=pytz.timezone('Europe/Oslo'))
    time = [start_time + datetime.timedelta(seconds=i*300) for i in range(length)]
    return time

time = get_5m_time(len(c))
plt.plot(time, c)
plt.gca().xaxis.set_major_formatter(mdates.DateFormatter("%H:%M"))
plt.show()