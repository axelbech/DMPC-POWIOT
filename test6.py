from casadi import *
from casadi.tools import *
import numpy as np
from time import time
from pickle import dumps, loads
import matplotlib.pyplot as plt
import matplotlib.dates as mdates
import datetime
from numpy import array

a = np.array([ 7.63613887e-09,  4.59577824e-02,  1.22604555e-01,  6.87578829e-02,
        1.01045285e-07,  1.40121816e-08,  9.86121674e-10, -2.60383629e-09,
       -5.34165121e-09, -6.77792807e-09, -7.66127655e-09, -8.29807451e-09,
        1.22500014e+00,  5.07783646e-01,  3.30915660e-01,  1.64879363e-01,
        8.11120233e-08,  6.36332104e-09, -2.43092617e-09, -4.08360495e-09,
       -6.32400247e-09, -7.44897958e-09, -8.13166087e-09, -8.62479743e-09,
        1.45990560e+00,  6.20039534e-01,  4.35991509e-01,  3.05332455e-01,
        1.95122666e-01,  2.54073770e-02,  2.00838496e-08,  4.07069056e-09,
       -3.09941877e-09, -5.75968277e-09, -7.13484286e-09, -8.02649249e-09,
        1.26938224e+00,  5.70550922e-01,  4.32770754e-01,  3.47856646e-01,
        2.92789631e-01,  2.57506296e-01,  2.88089451e-01,  5.05236808e-02,
        2.85133504e-02,  4.18475170e-08,  5.89536025e-09, -2.89726840e-09,
        7.75700279e-01,  3.95468015e-01,  3.31604527e-01,  2.96993120e-01,
        2.78591038e-01,  2.79271611e-01,  4.04484505e-01,  2.84090426e-02,
        1.61232481e-01,  1.79006661e-01,  1.91385776e-01,  2.01414969e-01,
        2.11561299e-01,  2.24320618e-01,  2.42831557e-01,  2.71647566e-01,
        3.16258606e-01,  3.90250175e-01,  7.95546384e-01, -3.26667338e-09,
        5.62369302e-09,  5.46565242e-08,  9.61472841e-02,  3.37217614e-01,
        5.92411860e-08,  1.02524092e-01,  1.88456574e-01,  2.48923362e-01,
        3.29518670e-01,  4.38314956e-01,  9.47734496e-01, -3.91147349e-09,
        7.17524283e-09,  9.33324511e-03,  2.92206203e-01,  8.17461163e-01,
       -5.96269600e-09, -2.87830787e-09,  4.91186378e-09,  4.84943302e-08,
        1.04556723e-01,  2.49026873e-01,  5.92637709e-01,  2.42797338e-09,
        4.12573399e-08,  8.73837956e-02,  2.13208055e-01,  4.76997752e-01,
        9.97207989e-09,  1.21630647e-07,  7.98857191e-02,  1.24894025e-01,
        1.39966083e-01,  1.38138309e-01,  2.69897548e-02,  3.52784962e-01,
        2.32380199e-01,  2.09763538e-01,  1.87399943e-01,  9.13656645e-02,
        3.24773875e-01,  2.28400214e-01,  2.05274435e-01,  1.81285262e-01,
        1.49466062e-01,  6.13632196e-02,  2.84505894e-08,  5.01564038e-01,
        2.82667645e-01,  2.42127630e-01,  2.10429181e-01,  1.17290741e-01,
        3.29501018e-01,  2.44819021e-01,  2.32113671e-01,  2.25775443e-01,
        2.21847614e-01,  2.23281636e-01,  2.52988429e-01,  1.77585309e-01,
        2.14792113e-01,  2.33071064e-01,  2.59476713e-01,  4.27277464e-01,
        1.16244065e-07,  1.19845028e-01,  1.60792223e-01,  1.79207304e-01,
        1.92257815e-01,  2.03589309e-01,  2.20068506e-01,  2.20307264e-01,
        2.47090015e-01,  2.81563156e-01,  3.36285954e-01,  6.46941390e-01,
        2.44305058e-09,  3.66498608e-08,  4.86834082e-02,  1.47267189e-01,
        1.97408357e-01,  2.47667862e-01,  4.52657423e-01,  5.68474285e-08,
        1.16230039e-01,  1.98010378e-01,  2.55716993e-01,  4.91029168e-01,
        1.93650540e-08,  2.42640644e-02,  1.33526067e-01,  1.71784897e-01,
        2.03927708e-01,  2.37861259e-01,  3.90961146e-01,  2.09027802e-02,
        1.78589355e-01,  2.22825168e-01,  2.73519633e-01,  5.12281149e-01,
        1.85629137e-08,  2.64583259e-02,  1.40649039e-01,  1.84090541e-01,
        2.23970047e-01,  2.70968029e-01,  4.87813737e-01,  9.89357116e-08,
        1.77559870e-01,  2.77995718e-01,  3.83914917e-01,  8.48727070e-01,
       -5.69968228e-09, -2.50051751e-09,  4.76802118e-09,  3.47125222e-08,
        4.02674020e-02,  1.60214542e-01,  3.01658942e-01,  1.26275786e-01,
        2.78704766e-01,  3.86889137e-01,  5.43108172e-01,  1.26888713e+00,
       -8.86353448e-09, -8.59954343e-09, -8.30683775e-09, -7.94824501e-09,
       -7.49103819e-09, -6.91875037e-09, -6.27155886e-09,  8.24041947e-02,
        2.71425399e-01,  4.33968711e-01,  6.80813125e-01,  1.49999996e+00,
       -9.38386397e-09, -9.29060071e-09, -9.19675551e-09, -9.09313327e-09,
       -8.97587034e-09, -8.84323738e-09, -8.69654606e-09,  1.08585589e-08,
        6.08334294e-02,  3.67687112e-01,  6.84187695e-01,  1.49999998e+00,
       -9.25517261e-09, -9.10257817e-09, -8.92962070e-09, -8.71179291e-09,
       -8.42242028e-09, -8.02080624e-09, -7.43589688e-09, -4.56559912e-09,
        3.10146109e-10,  2.40414393e-08,  1.36778648e-01,  6.76140722e-01,
       -8.50068872e-09, -8.24200924e-09, -7.99330666e-09, -7.74954191e-09,
       -7.52181780e-09, -7.34691839e-09, -7.26463528e-09,  5.19245620e-02,
        1.36619511e-07,  2.02020028e-08,  2.73358732e-09, -3.49204835e-09,
        6.60332592e-01,  2.74246192e-01,  1.23110696e-01,  5.57820693e-08,
        5.56105830e-09, -2.43045993e-09, -5.34836257e-09, -5.29035969e-09,
       -6.90964507e-09, -7.77892085e-09, -8.32516359e-09, -8.72337072e-09,
        1.17778937e+00,  2.63925760e-01,  1.86871360e-08, -2.28059991e-09,
       -5.99875691e-09, -7.41451240e-09, -8.14063480e-09, -8.69718680e-09,
       -8.94327339e-09, -9.12327003e-09, -9.26291630e-09, -9.38257058e-09,
        1.49999998e+00,  4.79251229e-01,  2.17132225e-08, -3.19335194e-09,
       -6.59698494e-09, -7.81873714e-09, -8.43073084e-09, -8.77860663e-09,
       -9.02402177e-09, -9.19727277e-09, -9.32829794e-09, -9.43817626e-09,
        1.50000000e+00,  8.07358170e-01,  1.63057965e-02, -5.31081715e-10,
       -5.99986049e-09, -7.58520171e-09, -8.31464249e-09, -8.14592933e-09,
       -8.66600551e-09, -8.98540737e-09, -9.22126622e-09])

b = array([ 3.24651045e-02,  3.16976719e-01,  2.77744121e-01,  2.52335219e-01,
        2.32635002e-01,  2.16844530e-01,  1.68030542e-01,  2.80304633e-01,
        2.35138494e-01,  2.27541051e-01,  2.22594416e-01,  2.19081780e-01,
        2.16139081e-01,  2.13042454e-01,  2.09030167e-01,  2.03115252e-01,
        1.95174717e-01,  1.81078812e-01,  7.51317723e-02,  3.64111856e-01,
        2.57866718e-01,  2.43101388e-01,  2.33955368e-01,  2.28178854e-01,
        2.24350900e-01,  2.21529879e-01,  2.19021856e-01,  2.16209891e-01,
        2.11603077e-01,  2.05374079e-01,  1.65452611e-01,  2.72477314e-01,
        2.32927886e-01,  2.27534491e-01,  2.24432387e-01,  2.22858496e-01,
        2.22425660e-01,  2.23027408e-01,  2.24811763e-01,  2.28217652e-01,
        2.31951680e-01,  2.40414722e-01,  3.10450642e-01,  1.17748811e-01,
        1.88469817e-01,  1.98471586e-01,  2.04976467e-01,  2.09584580e-01,
        2.13429461e-01,  2.17456900e-01,  2.22657594e-01,  2.30310846e-01,
        2.37770457e-01,  2.54271393e-01,  3.89154895e-01,  1.89793353e-02,
        1.55382796e-01,  1.75298226e-01,  1.88906338e-01,  1.99554619e-01,
        2.09862410e-01,  2.22365291e-01,  2.40138806e-01,  2.67555010e-01,
        3.09759529e-01,  3.79745889e-01,  7.67128993e-01, -3.56773396e-09,
        3.39987641e-09,  2.79455573e-08,  6.98566470e-03,  1.13547990e-01,
        1.56790126e-01,  1.90279191e-01,  2.22253262e-01,  2.60577542e-01,
        3.21872104e-01,  4.09461670e-01,  8.49691333e-01, -4.71809337e-09,
        2.90188732e-10,  1.47355453e-08,  1.49677908e-07,  9.28104841e-02,
        1.53448399e-01,  1.88858512e-01,  2.17953406e-01,  2.47890046e-01,
        2.82302855e-01,  3.35751052e-01,  6.39954933e-01,  2.67806892e-09,
        3.64768339e-08,  3.68642833e-02,  1.22561950e-01,  1.53011779e-01,
        1.70754967e-01,  1.80156130e-01,  1.83527830e-01,  1.81699463e-01,
        1.76086073e-01,  1.62259757e-01,  4.48479171e-02,  3.68574792e-01,
        2.49787478e-01,  2.32872091e-01,  2.21696015e-01,  2.13510080e-01,
        2.06300654e-01,  1.98294312e-01,  1.87521598e-01,  1.71332566e-01,
        1.44679316e-01,  6.09779232e-02,  2.90019422e-08,  5.08036450e-01,
        2.93283223e-01,  2.59910643e-01,  2.39568065e-01,  2.27251478e-01,
        2.19931164e-01,  2.15806421e-01,  2.13862615e-01,  2.13621597e-01,
        2.12626479e-01,  2.14550123e-01,  2.42423887e-01,  1.62414189e-01,
        1.91107702e-01,  1.94872498e-01,  1.97192831e-01,  1.98639474e-01,
        1.99568281e-01,  2.00207727e-01,  2.00715107e-01,  2.01215231e-01,
        2.01564721e-01,  2.02284843e-01,  2.07632060e-01,  1.93479908e-01,
        1.99072843e-01,  2.00344844e-01,  2.01688131e-01,  2.03433133e-01,
        2.06009100e-01,  2.10049684e-01,  2.16548817e-01,  2.27105201e-01,
        2.43516367e-01,  2.71125133e-01,  4.56581197e-01,  5.08766095e-08,
        8.70090747e-02,  1.47024971e-01,  1.67772476e-01,  1.81115289e-01,
        1.90335572e-01,  1.97701394e-01,  2.05024651e-01,  2.14106768e-01,
        2.27181826e-01,  2.47466121e-01,  3.88977539e-01,  6.54211467e-03,
        1.48015600e-01,  1.68216926e-01,  1.81142108e-01,  1.89970805e-01,
        1.96874761e-01,  2.03552259e-01,  2.11645876e-01,  2.23146536e-01,
        2.40350451e-01,  2.68360149e-01,  4.53094068e-01,  5.01257397e-08,
        8.47870273e-02,  1.45001105e-01,  1.65501628e-01,  1.78425730e-01,
        1.86952575e-01,  1.93179656e-01,  1.98638751e-01,  2.04672728e-01,
        2.11700266e-01,  2.23191225e-01,  3.07639572e-01,  7.62662287e-02,
        1.59937903e-01,  1.69684550e-01,  1.73571004e-01,  1.72553292e-01,
        1.66381071e-01,  1.53536054e-01,  1.30858534e-01,  8.68507013e-02,
        2.65204326e-07,  1.80614731e-08,  9.88186381e-12,  6.61366892e-01,
        3.31588592e-01,  2.63508288e-01,  2.09705839e-01,  1.56946536e-01,
        7.18926721e-02,  7.00143089e-08,  1.01218146e-08, -3.75050770e-10,
       -4.26554959e-09, -6.22906747e-09, -7.46914283e-09,  1.07759778e+00,
        4.93741106e-01,  3.80034247e-01,  3.09758736e-01,  2.65627712e-01,
        2.36785519e-01,  2.16137355e-01,  1.98604043e-01,  1.79872617e-01,
        1.54536187e-01,  9.01876148e-02,  4.92805117e-08,  4.62007297e-01,
        2.69912309e-01,  2.37024749e-01,  2.12866449e-01,  1.91494781e-01,
        1.67652596e-01,  1.35475022e-01,  7.26939997e-02,  1.03501125e-07,
        1.40508338e-08,  3.91277469e-10, -4.63898009e-09,  8.53749410e-01,
        4.21473113e-01,  3.42241336e-01,  2.93121145e-01,  2.62029613e-01,
        2.41318631e-01,  2.25893566e-01,  2.11960055e-01,  1.96090636e-01,
        1.71184838e-01,  1.16445655e-01,  7.18870469e-08,  4.73470310e-01,
        2.85076013e-01,  2.57211672e-01,  2.40540495e-01,  2.30961590e-01,
        2.26118671e-01,  2.24820443e-01,  2.26747560e-01,  2.32374066e-01,
        2.40420010e-01,  2.57217529e-01,  3.92765909e-01,  2.01380090e-02,
        1.56496742e-01,  1.75114948e-01,  1.86439354e-01,  1.93255686e-01,
        1.97240669e-01,  1.99374560e-01,  2.00182266e-01,  1.99862474e-01,
        1.95139717e-01,  1.90075789e-01,  1.65945703e-01,  2.25828372e-01,
        2.01380487e-01,  1.95602789e-01,  1.89594713e-01,  1.81878350e-01,
        1.70555575e-01,  1.52841135e-01,  1.24377500e-01,  5.93222202e-02,
        7.64645242e-08,  1.06686023e-08, -1.24458152e-09,  5.88495216e-01,
        2.41049815e-01,  4.06062026e-02,  1.01433700e-08])

def get_5m_time(length):
    start_time = datetime.datetime(2021, 11, 29, 0, 0, 0)#, tzinfo=pytz.timezone('Europe/Oslo'))
    time = [start_time + datetime.timedelta(seconds=i*300) for i in range(length)]
    return time

time = get_5m_time(len(a))

plt.plot(time,a); 
plt.plot(time,b); 
plt.gca().xaxis.set_major_formatter(mdates.DateFormatter("%H:%M"))
plt.show()